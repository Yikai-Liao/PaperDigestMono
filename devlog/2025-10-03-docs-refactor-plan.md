# 2025-10-03 文档与日志整理计划
Status: Completed
Last-updated: 2025-10-03

## 背景与现状
- `devdoc/` 缺乏索引与导航，团队成员需要反复打开多份文档才能确认内容定位。
- `devlog/` 命名存在不一致（部分缺少具体日期），同日多份计划无编号导致排序混乱，也缺少总览索引。
- 历史计划落地情况分散，查阅版本推进时难以快速识别每项计划的状态、关联代码与测试记录。

## 风险评估
- 重命名 devlog 文件若未同步更新引用，可能造成文档链接失效或计划追踪混乱。
- 索引文档若设计不清晰，反而增加维护成本。
- 新增航海图/计划需与 `devdoc/rool.md` 约束一致，否则破坏现有流程。

## 目标与范围
1. 对所有 devlog 条目统一命名为 `YYYY-MM-DD-topic[-suffix].md`，必要时根据文内记录推断日期。
2. 新增 `devlog/index.md` 提供时间轴、主题分类、状态栏，便于检索。
3. 在 `devdoc/` 下补充导航文档，说明各文件职责、更新时间与适用场景。
4. 保留原始内容主体，仅调整元信息（标题、Front-matter、状态行等），确保历史记录可追溯。

## 执行步骤
1. 盘点 devlog 文件，确定需重命名的条目及目标命名；记录原名/新名映射。
2. 执行重命名并使用文本搜索确认引用（`devdoc/`、`README`、其他 devlog）是否需同步更新。
3. 编写/更新索引文档：
   - `devlog/index.md`: 列出日期、主题、状态、关联提交。
   - `devdoc/README.md`（若不存在则新建）：汇总文档用途与查阅建议。
4. 对受影响文档添加 `Status:`、`Last-updated:` 等统一元信息段落，便于未来维护。
5. 提交前执行 `uv run --no-progress pytest`（若代码未改动则仅确认无需执行），并在计划文档中记录实际执行情况与潜在遗留问题。

## 回滚策略
- 重命名步骤保留映射表，如需回滚可按映射批量恢复原名。
- 索引文档如影响阅读体验，可暂时移动到 `devdoc/drafts/` 并在计划中补记。
- 若新增元数据破坏渲染或工具链，可逐步恢复到原始 Markdown 结构，并在计划文档补写复盘原因。

## 输出与验证
- 计划完成后更新本文档的“执行记录”段落，列明命名统一、索引创建及未竟事项。
- 通过 git diff 确认仅文档受影响，无代码/配置改动。

## 执行记录
- 2025-10-03：统一 devlog 命名为 `YYYY-MM-DD-topic.md`，新增 `devlog/index.md`，为全部日志添加 `Status`/`Last-updated` 元信息。
- 2025-10-03：创建 `devdoc/README.md` 导航并为核心文档添加元信息；修复 `devdoc/env.md` 重复标题。
- 2025-10-03：补充 `devlog/2025-10-03-legacy-roadmap.md` 作为长期恢复路线图并在索引登记。
